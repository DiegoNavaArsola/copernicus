taux1
dim(taux1)
taux1[1]
taux1[[1]]
for (i in 1:dim(df1)[2]) {
for (j in 0:236) {
if (is.character(df1[[i]]) == TRUE) {
aux1 <- cont_mul_var(df1[[i]],",")
taux1 <- table(aux1)
for (t1_length in 1:dim(taux1)) {
Nx[j+1,i] <- taux1[[t1_length+1]]
}
Nx1[j+1,i] <- taux1[[j+1]]
if (df1[[j+1,3]] == 7 | df1[[j+1,3]]==9) {
prueba[j+1,1] <- df1[[j,i]]
}
# else{
#   prueba[j+1,1] <- 0
# }
}
else{
Nx1[j,i] <- sum(df1[[i]] == j-1,na.rm = T)
Ncx1[j,i] <- sum(df1[[i]] == j-1 & (df1[[3]] == 7 | df1[[3]] == 9),na.rm = T)
}
}
}
taux1[[1]]
taux1
for (i in 1:dim(df1)[2]) {
for (j in 0:236) {
if (is.character(df1[[i]]) == TRUE) {
aux1 <- cont_mul_var(df1[[i]],",")
taux1 <- table(aux1)
for (t1_length in 1:(dim(taux1)-1)) {
Nx[j+1,i] <- taux1[[t1_length+1]]
}
Nx1[j+1,i] <- taux1[[j+1]]
if (df1[[j+1,3]] == 7 | df1[[j+1,3]]==9) {
prueba[j+1,1] <- df1[[j,i]]
}
# else{
#   prueba[j+1,1] <- 0
# }
}
else{
Nx1[j,i] <- sum(df1[[i]] == j-1,na.rm = T)
Ncx1[j,i] <- sum(df1[[i]] == j-1 & (df1[[3]] == 7 | df1[[3]] == 9),na.rm = T)
}
}
}
for (i in 1:dim(df1)[2]) {
for (j in 0:236) {
if (is.character(df1[[i]]) == TRUE) {
aux1 <- cont_mul_var(df1[[i]],",")
taux1 <- table(aux1)
for (t1_length in 1:(dim(taux1)-1)) {
Nx1[j+1,i] <- taux1[[t1_length+1]]
}
Nx1[j+1,i] <- taux1[[j+1]]
if (df1[[j+1,3]] == 7 | df1[[j+1,3]]==9) {
prueba[j+1,1] <- df1[[j,i]]
}
# else{
#   prueba[j+1,1] <- 0
# }
}
else{
Nx1[j,i] <- sum(df1[[i]] == j-1,na.rm = T)
Ncx1[j,i] <- sum(df1[[i]] == j-1 & (df1[[3]] == 7 | df1[[3]] == 9),na.rm = T)
}
}
}
1:(dim(taux1)-1)
taux1[1]
taux1[2]
taux1[[2]
taux1[[2]]
taux1[[2]]
1:(dim(taux1)-1)
taux1
taux1[1]
taux1[[1]]
taux1[[2]]
taux1[[8]]
taux1[[9]]
dim(taux1)
for (t1_length in 1:(dim(taux1)-1)) {
Nx1[j+1,i] <- taux1[[t1_length+1]]
}
1:(dim(taux1)-1)
taux1[[t1_length]]
taux1[[t1_length+1]]
for (i in 1:dim(df1)[2]) {
for (j in 0:236) {
if (is.character(df1[[i]]) == TRUE) {
aux1 <- cont_mul_var(df1[[i]],",")
taux1 <- table(aux1)
for (t1_length in 1:(dim(taux1)-1)) {
p <- taux1[[t1_length+1]]
}
Nx1[j+1,i] <- taux1[[j+1]]
if (df1[[j+1,3]] == 7 | df1[[j+1,3]]==9) {
prueba[j+1,1] <- df1[[j,i]]
}
# else{
#   prueba[j+1,1] <- 0
# }
}
else{
Nx1[j,i] <- sum(df1[[i]] == j-1,na.rm = T)
Ncx1[j,i] <- sum(df1[[i]] == j-1 & (df1[[3]] == 7 | df1[[3]] == 9),na.rm = T)
}
}
}
for (i in 1:dim(df1)[2]) {
for (j in 0:236) {
if (is.character(df1[[i]]) == TRUE) {
aux1 <- cont_mul_var(df1[[i]],",")
taux1 <- table(aux1)
for (t1_length in 1:(dim(taux1)-1)) {
Nx1[j+1,i] <- taux1[[t1_length+1]]
}
#Nx1[j+1,i] <- taux1[[j+1]]
if (df1[[j+1,3]] == 7 | df1[[j+1,3]]==9) {
prueba[j+1,1] <- df1[[j,i]]
}
# else{
#   prueba[j+1,1] <- 0
# }
}
else{
Nx1[j,i] <- sum(df1[[i]] == j-1,na.rm = T)
Ncx1[j,i] <- sum(df1[[i]] == j-1 & (df1[[3]] == 7 | df1[[3]] == 9),na.rm = T)
}
}
}
t1_length
Nx1[1,30]
Nx1[1,30] <- taux1[[t1_length+1]]
taux1[[t1_length+1]]
taux1[[t1_length]]
taux1
aux1
df1 <- data_cop_simp
for (z in 1:dim(df1)[1]) {
if (is.na(df1$Correo[z]) == TRUE) {
df1$Correo[z] <- 0
}
else{
df1$Correo[z] <- 1
}
if (is.na(df1$Facebook[k]) == TRUE) {
df1$Facebook[z] <- 0
}
else{
df1$Facebook[z] <- 1
}
}
Nx1 = matrix(0, nrow = dim(df)[1]+1, ncol = dim(df)[2])
Ncx1 = matrix(0, nrow = dim(df)[1]+1, ncol = dim(df)[2])
epsilon1 = matrix(0, nrow = dim(df)[1]+1, ncol = dim(df)[2])
prueba <- matrix(NA,nrow = dim(df)[1]+2,ncol = 1)
for (i in 1:dim(df1)[2]) {
for (j in 0:236) {
if (is.character(df1[[i]]) == TRUE) {
aux1 <- cont_mul_var(df1[[i]],",")
taux1 <- table(aux1)
for (t1_length in 1:(dim(taux1)-1)) {
Nx1[j+1,i] <- taux1[[t1_length+1]]
}
#Nx1[j+1,i] <- taux1[[j+1]]
if (df1[[j+1,3]] == 7 | df1[[j+1,3]]==9) {
prueba[j+1,1] <- df1[[j,i]]
}
# else{
#   prueba[j+1,1] <- 0
# }
}
else{
Nx1[j,i] <- sum(df1[[i]] == j-1,na.rm = T)
Ncx1[j,i] <- sum(df1[[i]] == j-1 & (df1[[3]] == 7 | df1[[3]] == 9),na.rm = T)
}
}
}
Nx1
for (i in 1:dim(df1)[2]) {
for (j in 0:236) {
if (is.character(df1[[i]]) == TRUE) {
aux1 <- cont_mul_var(df1[[i]],",")
taux1 <- table(aux1)
for (t1_length in 1:(dim(taux1)-1)) {
Nx1[j+1,i] <- taux1[[t1_length+1]]
}
t1_length <- 0
#Nx1[j+1,i] <- taux1[[j+1]]
if (df1[[j+1,3]] == 7 | df1[[j+1,3]]==9) {
prueba[j+1,1] <- df1[[j,i]]
}
# else{
#   prueba[j+1,1] <- 0
# }
}
else{
Nx1[j,i] <- sum(df1[[i]] == j-1,na.rm = T)
Ncx1[j,i] <- sum(df1[[i]] == j-1 & (df1[[3]] == 7 | df1[[3]] == 9),na.rm = T)
}
}
}
Nx1
for (i in 1:dim(df1)[2]) {
for (j in 0:236) {
if (is.character(df1[[i]]) == TRUE) {
aux1 <- cont_mul_var(df1[[i]],",")
taux1 <- table(aux1)
for (t1_length in 1:(dim(taux1)-1)) {
Nx1[t1_length+1,i] <- taux1[[t1_length+1]]
}
t1_length <- 0
#Nx1[j+1,i] <- taux1[[j+1]]
if (df1[[j+1,3]] == 7 | df1[[j+1,3]]==9) {
prueba[j+1,1] <- df1[[j,i]]
}
# else{
#   prueba[j+1,1] <- 0
# }
}
else{
Nx1[j,i] <- sum(df1[[i]] == j-1,na.rm = T)
Ncx1[j,i] <- sum(df1[[i]] == j-1 & (df1[[3]] == 7 | df1[[3]] == 9),na.rm = T)
}
}
}
Nx1
df1 <- data_cop_simp
for (z in 1:dim(df1)[1]) {
if (is.na(df1$Correo[z]) == TRUE) {
df1$Correo[z] <- 0
}
else{
df1$Correo[z] <- 1
}
if (is.na(df1$Facebook[k]) == TRUE) {
df1$Facebook[z] <- 0
}
else{
df1$Facebook[z] <- 1
}
}
Nx1 = matrix(0, nrow = dim(df)[1]+1, ncol = dim(df)[2])
Ncx1 = matrix(0, nrow = dim(df)[1]+1, ncol = dim(df)[2])
epsilon1 = matrix(0, nrow = dim(df)[1]+1, ncol = dim(df)[2])
prueba <- matrix(NA,nrow = dim(df)[1]+2,ncol = 1)
for (i in 1:dim(df1)[2]) {
for (j in 0:236) {
if (is.character(df1[[i]]) == TRUE) {
aux1 <- cont_mul_var(df1[[i]],",")
taux1 <- table(aux1)
for (t1_length in 1:(dim(taux1)-1)) {
Nx1[t1_length+1,i] <- taux1[[t1_length+1]]
}
t1_length <- 0
#Nx1[j+1,i] <- taux1[[j+1]]
if (df1[[j+1,3]] == 7 | df1[[j+1,3]]==9) {
prueba[j+1,1] <- df1[[j,i]]
}
# else{
#   prueba[j+1,1] <- 0
# }
}
else{
Nx1[j,i] <- sum(df1[[i]] == j-1,na.rm = T)
Ncx1[j,i] <- sum(df1[[i]] == j-1 & (df1[[3]] == 7 | df1[[3]] == 9),na.rm = T)
}
}
}
Nx1
#Tamaño de la base de datos
n <- dim(df)[1]
#Clases a tratar / na.rm = T sirve para ignorar NAN
Nc <- sum(df$Status == 7 | df$Status == 9,na.rm = T)
#Vector con el nombre de las variables
nomvar <- names(df)
#Funcion para contar variables con celdas con multiples datos (sep es un string)
cont_mul_var <- function(column,sep) {
column.string <- paste(column,collapse = sep)
column.vector <- strsplit(column.string, sep)
return(column.vector)
}
create_temp_df <- function(matrix) {
}
x <- c(0:128)
y <- c(213,215,431,596)
nclas <- c(x,y)
lnc <- length(nclas)
#Inicialización de matrices
Nx = matrix(0, nrow = dim(df)[1]+1, ncol = dim(df)[2])
Ncx = matrix(0, nrow = dim(df)[1]+1, ncol = dim(df)[2])
epsilon = matrix(0, nrow = dim(df)[1]+1, ncol = dim(df)[2])
arg_ln = matrix(0, nrow = dim(df)[1]+1, ncol = dim(df)[2])
score = matrix(0, nrow = dim(df)[1]+1, ncol = dim(df)[2])
temp <- matrix(0,nrow = dim(df)[1]+1,ncol = 1)
for (k in 1:dim(df)[1]) {
if (is.na(df$Correo[k]) == TRUE) {
df$Correo[k] <- 0
}
else{
df$Correo[k] <- 1
}
if (is.na(df$Facebook[k]) == TRUE) {
df$Facebook[k] <- 0
}
else{
df$Facebook[k] <- 1
}
}
for (i in 1:dim(df)[2]) {
for (j in 0:200) {
if (is.character(df[[i]]) == TRUE) {
aux <- cont_mul_var(df[[i]],",")
taux <- table(aux)
Nx[j+1,i] <- taux[[j+1]]
}
else{
Nx[j,i] <- sum(df[[i]] == j-1,na.rm = T)
#Ncx[j,i] <- sum(df[[i]] == j-1 & (df[[3]] == 7 | df[[3]] == 9),na.rm = T)
}
if (df[[j+1,3]] == 7 | df[[j+1,3]]==9) {
temp[j+1,1] <- df[[j,i]]
}
Ncx[j,i] <- sum(df[[i]] == j-1 & (df[[3]] == 7 | df[[3]] == 9),na.rm = T)
epsilon[j,i] <- (Nx[j,i]*((Ncx[j,i]/Nx[j,i])-(Nc/n)))/(Nx[j,i]*(Nc/n)*sqrt((1-(Nc/n))))
arg_ln[j,i] <- (Ncx[j,i]/Nc)/((Nx[j,i]-Ncx[j,i])/(n-Nc))
score[j,i] <- log(arg_ln[j,i],exp(1))
}
}
Nx1
nomvar[19]
df1 <- data_cop_simp
for (z in 1:dim(df1)[1]) {
if (is.na(df1$Correo[z]) == TRUE) {
df1$Correo[z] <- 0
}
else{
df1$Correo[z] <- 1
}
if (is.na(df1$Facebook[k]) == TRUE) {
df1$Facebook[z] <- 0
}
else{
df1$Facebook[z] <- 1
}
}
Nx1 = matrix(NA, nrow = dim(df)[1]+1, ncol = dim(df)[2])
Ncx1 = matrix(NA, nrow = dim(df)[1]+1, ncol = dim(df)[2])
epsilon1 = matrix(NA, nrow = dim(df)[1]+1, ncol = dim(df)[2])
prueba <- matrix(NA,nrow = dim(df)[1]+2,ncol = 1)
for (i in 1:dim(df1)[2]) {
for (j in 0:236) {
if (is.character(df1[[i]]) == TRUE) {
aux1 <- cont_mul_var(df1[[i]],",")
taux1 <- table(aux1)
for (t1_length in 1:(dim(taux1)-1)) {
Nx1[t1_length+1,i] <- taux1[[t1_length+1]]
}
t1_length <- 0
#Nx1[j+1,i] <- taux1[[j+1]]
if (df1[[j+1,3]] == 7 | df1[[j+1,3]]==9) {
prueba[j+1,1] <- df1[[j,i]]
}
# else{
#   prueba[j+1,1] <- 0
# }
}
else{
Nx1[j,i] <- sum(df1[[i]] == j-1,na.rm = T)
Ncx1[j,i] <- sum(df1[[i]] == j-1 & (df1[[3]] == 7 | df1[[3]] == 9),na.rm = T)
}
}
}
prueba
Nx1
df1 <- data_cop_simp
for (z in 1:dim(df1)[1]) {
if (is.na(df1$Correo[z]) == TRUE) {
df1$Correo[z] <- 0
}
else{
df1$Correo[z] <- 1
}
if (is.na(df1$Facebook[k]) == TRUE) {
df1$Facebook[z] <- 0
}
else{
df1$Facebook[z] <- 1
}
}
Nx1 = matrix(NA, nrow = dim(df)[1]+1, ncol = dim(df)[2])
Ncx1 = matrix(NA, nrow = dim(df)[1]+1, ncol = dim(df)[2])
epsilon1 = matrix(NA, nrow = dim(df)[1]+1, ncol = dim(df)[2])
prueba <- matrix(NA,nrow = dim(df)[1]+2,ncol = 1)
for (i in 1:dim(df1)[2]) {
for (j in 0:236) {
if (is.character(df1[[i]]) == TRUE) {
aux1 <- cont_mul_var(df1[[i]],",")
taux1 <- table(aux1)
for (t1_length in 1:(dim(taux1)-1)) {
Nx1[t1_length+1,i] <- taux1[[t1_length+1]]
}
t1_length <- 1
if (df1[[j+1,3]] == 7 | df1[[j+1,3]]==9) {
prueba[j+1,1] <- df1[[j,i]]
taux2 <- table(cont_mul_var(prueba,","))
for (t1_length in 1:(dim(taux1)-1)) {
Ncx1[t1_length+1,i] <- taux1[[t1_length+1]]
}
t1_length <- 1
}
t1_length <- 1
}
else{
Nx1[j,i] <- sum(df1[[i]] == j-1,na.rm = T)
Ncx1[j,i] <- sum(df1[[i]] == j-1 & (df1[[3]] == 7 | df1[[3]] == 9),na.rm = T)
}
}
}
df1 <- data_cop_simp
for (z in 1:dim(df1)[1]) {
if (is.na(df1$Correo[z]) == TRUE) {
df1$Correo[z] <- 0
}
else{
df1$Correo[z] <- 1
}
if (is.na(df1$Facebook[k]) == TRUE) {
df1$Facebook[z] <- 0
}
else{
df1$Facebook[z] <- 1
}
}
Nx1 = matrix(NA, nrow = dim(df)[1]+1, ncol = dim(df)[2])
Ncx1 = matrix(NA, nrow = dim(df)[1]+1, ncol = dim(df)[2])
epsilon1 = matrix(NA, nrow = dim(df)[1]+1, ncol = dim(df)[2])
prueba <- matrix(NA,nrow = dim(df)[1]+2,ncol = 1)
for (i in 1:dim(df1)[2]) {
for (j in 0:236) {
if (is.character(df1[[i]]) == TRUE) {
aux1 <- cont_mul_var(df1[[i]],",")
taux1 <- table(aux1)
for (t1_length in 1:(dim(taux1)-1)) {
Nx1[t1_length+1,i] <- taux1[[t1_length+1]]
}
if (df1[[j+1,3]] == 7 | df1[[j+1,3]]==9) {
prueba[j+1,1] <- df1[[j,i]]
taux2 <- table(cont_mul_var(prueba,","))
for (t2_length in 1:(dim(taux2)-1)) {
Ncx1[t2_length+1,i] <- taux2[[t2_length+1]]
}
}
}
else{
Nx1[j,i] <- sum(df1[[i]] == j-1,na.rm = T)
Ncx1[j,i] <- sum(df1[[i]] == j-1 & (df1[[3]] == 7 | df1[[3]] == 9),na.rm = T)
}
}
}
Nx1
Ncx1
Nx1
df1$Status == 9
df1$Status = 9
sum(df$Status==9)
View(Ncx1)
View(Ncx1)
sum(df$Status==7)
5+29
table(cont_mul_var(df[[10]]),",")
table(cont_mul_var(df[[10]],",")
dfg
table(cont_mul_var(df[[10]],","))
for (a in 1:dim(df1)[2]) {
for (b in 0:236) {
if (df[[i]]==10) {
if (df1[[j+1,3]] == 7 | df1[[j+1,3]]==9) {
}
}
}
sdf
sdfs
df
sdf
s
df
sdf
sdf
table(cont_mul_var(df[[10]],","))
sdf
df1 <- data_cop_simp
for (z in 1:dim(df1)[1]) {
if (is.na(df1$Correo[z]) == TRUE) {
df1$Correo[z] <- 0
}
else{
df1$Correo[z] <- 1
}
if (is.na(df1$Facebook[k]) == TRUE) {
df1$Facebook[z] <- 0
}
else{
df1$Facebook[z] <- 1
}
}
